# NewsInTelegram

**NewsInTelegram** — это простой парсер новостей на Python, который извлекает ссылки с новостных страниц, фильтрует их, получает текстовое содержимое и сохраняет результаты в базу данных SQLite.

## Структура проекта

- `extract_links.py` — извлечение всех ссылок (href) с указанной страницы.
- `filter_links.py` — фильтрация ссылок по подстроке.
- `get_html.py` — получение текстового содержимого страницы без тегов.
- `run_db.py` — основной скрипт: инициализация базы, парсинг, фильтрация, сохранение новостей.
- `run_db_delete.py` — удаление файла базы данных `news.db`.
- `run_extract_links.py` — пример извлечения и фильтрации ссылок, а также получения текста по ссылкам.
- `test_extract_links.py` — юнит-тест для функции извлечения ссылок.

## Установка зависимостей

Рекомендуется использовать виртуальное окружение:

```bash
python -m venv venv
source venv/bin/activate  # для Linux/Mac
venv\Scripts\activate    # для Windows
```

Установите зависимости:

```bash
pip install -r requirements.txt
```

**requirements.txt** (создайте этот файл, если его нет):
```
requests
beautifulsoup4
```

Модуль `sqlite3` входит в стандартную библиотеку Python.

## Использование

### 1. Парсинг и сохранение новостей

```bash
python run_db.py
```

### 2. Удаление базы данных

```bash
python run_db_delete.py
```

### 3. Пример извлечения и фильтрации ссылок

```bash
python run_extract_links.py
```

### 4. Запуск тестов

```bash
python test_extract_links.py
```

## Примечания
- По умолчанию парсится страница https://techcrunch.com/2025/07/15/ (можно изменить в коде).
- Все результаты сохраняются в файл базы данных `news.db`.
- Для корректной работы требуется интернет-соединение.

---

**Автор:** [Ваше имя]

---

## Инструкция: создание Telegram-канала и бота

### 1. Создание Telegram-канала
1. Откройте Telegram и нажмите на меню (три полоски в левом верхнем углу).
2. Выберите «Создать канал».
3. Укажите название, описание и (по желанию) аватар канала.
4. Выберите тип канала: публичный или приватный.
5. Сохраните ссылку на канал (например, t.me/your_channel_name).

### 2. Создание Telegram-бота и получение токена
1. В Telegram найдите пользователя [@BotFather](https://t.me/BotFather).
2. Нажмите «Start» или введите /start.
3. Введите команду `/newbot` и следуйте инструкциям:
   - Укажите имя бота (любое).
   - Укажите username (должен оканчиваться на `bot`, например: `mynewsbot`).
4. После создания BotFather пришлёт вам токен (например, `123456789:ABCdefGhIJKlmNoPQRstuVwxyZ`).
   - Сохраните этот токен — он понадобится для работы с API Telegram.

### 3. Добавление бота в канал администратором
1. Откройте ваш канал, перейдите в «Управление каналом» → «Администраторы».
2. Нажмите «Добавить администратора».
3. Найдите вашего бота по username и добавьте его.
4. Дайте боту необходимые права (например, на публикацию сообщений).

### 4. Как узнать ID канала
- Для публичного канала: используйте `@username` (например, `@your_channel_name`).
- Для приватного канала или числового ID:
  1. Добавьте в канал любого бота (например, [@userinfobot](https://
t.me/userinfobot)).
  2. Напишите любое сообщение в канал.
  3. Перейдите в чат с ботом — он покажет вам ID последнего чата (канала), куда вы писали.
  4. Обычно ID канала начинается с `-100`, например: `-1001234567890`.

---

## Как разместить проект на GitHub

1. Зарегистрируйтесь или войдите на [github.com](https://github.com/).
2. Нажмите «New repository» (Создать репозиторий).
3. Укажите имя репозитория (например, NewsInTelegram), описание (по желанию) и выберите «Public» или «Private».
4. Не добавляйте README, .gitignore и LICENSE — они уже есть в проекте.
5. Нажмите «Create repository».
6. Откройте терминал в папке с проектом и выполните команды:

```bash
# Настройте имя и email пользователя (один раз на этом компьютере)
git config user.name "Ivan Ivanov"
git config user.email "ivan@example.com"
# Эти команды работают только для текущего проекта (локально). Если хотите задать для всех проектов — добавьте флаг --global.
# Инициализация git (если ещё не выполнено)
git init
# Добавление всех файлов
git add .
# Первый коммит
git commit -m "Initial commit"
# Добавление удалённого репозитория (замените YOUR_USERNAME и REPO_NAME)
git remote add origin https://github.com/YOUR_USERNAME/REPO_NAME.git
# Отправка файлов на GitHub
git push -u origin master
```

7. После этого проект появится на GitHub.

--- 